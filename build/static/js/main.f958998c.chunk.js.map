{"version":3,"sources":["redux/usersReducer.js","redux/types.js","redux/store.js","components/Users.js","components/Pagination.js","components/PerPage.js","App.js","index.js"],"names":["handlers","state","usersCount","users","length","activeUser","Math","floor","random","page","currentPage","limit","pageLimit","initialState","reducer","action","handle","type","DEFAULT","store","createStore","usersReducer","usersApi","window","location","href","Users","this","props","setUsers","setActiveUser","fetch","then","response","json","setInterval","usersLimit","usersOffset","usersLimited","slice","className","map","user","key","id","name","surname","desc","React","Component","connect","dispatch","setUsersAC","pagesCount","ceil","setPage","setPageAC","count","Array","fill","l","i","activeClass","onClick","setUsersLimit","setUsersLimitAC","active","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f958998c.chunk.js","sourcesContent":["import { SET_USERS, SET_PAGE, SET_PAGE_LIMIT, SET_ACTIVE_USER } from './types';\r\n\r\nconst handlers = {\r\n\t[SET_ACTIVE_USER]: state => {\r\n\t\tconst usersCount = state.users.length;\r\n\t\tif (!usersCount) return { ...state, activeUser: null };\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tactiveUser: state.users[Math.floor(Math.random() * usersCount)]\r\n\t\t};\r\n\t},\r\n\t[SET_PAGE]: (state, { page }) => ({ ...state, currentPage: page }),\r\n\t[SET_PAGE_LIMIT]: (state, { limit }) => {\r\n\t\treturn { ...state, pageLimit: limit, currentPage: 1 };\r\n\t},\r\n\t[SET_USERS]: (state, { users }) => ({\r\n\t\t...state,\r\n\t\tusers,\r\n\t\tusersCount: users.length\r\n\t}),\r\n\tDEFAULT: state => state\r\n};\r\n\r\nconst initialState = {\r\n\tusers: [],\r\n\tusersCount: 0,\r\n\tactiveUser: null,\r\n\tpageLimit: 5,\r\n\tcurrentPage: 1\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n\tconst handle = handlers[action.type] || handlers.DEFAULT;\r\n\treturn handle(state, action);\r\n};\r\n\r\nexport const setUsersAC = users => ({ type: SET_USERS, users });\r\nexport const setPageAC = page => ({ type: SET_PAGE, page });\r\nexport const setActiveUserAC = () => ({ type: SET_ACTIVE_USER });\r\nexport const setPageLimitAC = limit => ({ type: SET_PAGE_LIMIT, limit });\r\n\r\nexport default reducer;\r\n","export const SET_USERS = 'SET_USERS';\r\nexport const SET_ACTIVE_USER = 'SET_ACTIVE_USER';\r\nexport const SET_PAGE = 'SET_PAGE';\r\nexport const SET_PAGE_LIMIT = 'SET_PAGE_LIMIT';","import { createStore } from 'redux';\r\nimport usersReducer from './usersReducer';\r\n\r\nconst store = createStore(usersReducer);\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setUsersAC, setActiveUserAC } from '../redux/usersReducer';\r\n\r\nconst usersApi = `${window.location.href}data/users`;\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tusers: state.users,\r\n\t\tusersLimit: state.pageLimit,\r\n\t\tcurrentPage: state.currentPage,\r\n\t\tactiveUser: state.activeUser\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tsetUsers: users => dispatch(setUsersAC(users)),\r\n\t\tsetActiveUser: () => dispatch(setActiveUserAC())\r\n\t};\r\n};\r\n\r\nclass Users extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { setUsers, setActiveUser } = this.props;\r\n\t\tfetch(usersApi)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(users => setUsers(users));\r\n\r\n\t\tsetInterval(() => {\r\n\t\t\tsetActiveUser();\r\n\t\t}, 8000);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { users, activeUser, currentPage, usersLimit } = this.props;\r\n\t\tconst usersOffset = (currentPage - 1) * usersLimit;\r\n\t\tconst usersLimited = users.slice(usersOffset, usersOffset + usersLimit);\r\n\t\treturn (\r\n\t\t\t<div className=\"users\">\r\n\t\t\t\t{!usersLimited.length\r\n\t\t\t\t\t? 'Oops! No users! (run \"yarn serve\" or \"npm run serve\" command in terminal and reload page)'\r\n\t\t\t\t\t: usersLimited.map(user => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div key={user.id} className=\"user\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"user-name\">{`${user.name} ${user.surname}`}</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"user-desc\">{user.desc}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t  })}\r\n\t\t\t\t{activeUser && (\r\n\t\t\t\t\t<div className=\"user user-active\">\r\n\t\t\t\t\t\t{`${activeUser.name} ${activeUser.surname}`}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Users);\r\n","import React from 'react';\r\nimport { setPageAC } from '../redux/usersReducer';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tpagesCount: Math.ceil(state.usersCount / state.pageLimit),\r\n\t\tcurrentPage: state.currentPage\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tsetPage: page => dispatch(setPageAC(page))\r\n\t};\r\n};\r\n\r\nfunction Pagination(props) {\r\n\tconst { pagesCount: count, currentPage, setPage } = props;\r\n\treturn count > 1 ? (\r\n\t\t<div className=\"pagination\">\r\n\t\t\t{Array(count)\r\n\t\t\t\t.fill(0)\r\n\t\t\t\t.map((l, i) => {\r\n\t\t\t\t\tconst page = i + 1;\r\n\t\t\t\t\tconst activeClass = currentPage === page ? ' active' : '';\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\tonClick={() => setPage(page)}\r\n\t\t\t\t\t\t\tclassName={'pagination-item' + activeClass}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{page}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t</div>\r\n\t) : null;\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Pagination);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setPageLimitAC as setUsersLimitAC } from '../redux/usersReducer';\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tusersLimit: state.pageLimit\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tsetUsersLimit: limit => dispatch(setUsersLimitAC(limit))\r\n\t};\r\n};\r\n\r\nfunction PerPage(props) {\r\n\tconst { usersLimit, setUsersLimit } = props;\r\n\treturn (\r\n\t\t<div className=\"limit\">\r\n\t\t\t<span>Per page: </span>\r\n\t\t\t{[3, 5, 10, 20].map((limit, i) => {\r\n\t\t\t\tconst active = limit === usersLimit ? ' active' : '';\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\tonClick={() => setUsersLimit(limit)}\r\n\t\t\t\t\t\tclassName={'limit-btn' + active}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{limit}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PerPage);\r\n","import React from 'react';\nimport Users from './components/Users';\nimport Pagination from './components/Pagination';\nimport PerPage from './components/PerPage';\n\nfunction App() {\n\treturn (\n\t\t<section className=\"container\">\n\t\t\t<header className=\"header\">\n\t\t\t\t<div className=\"header-top\">\n\t\t\t\t\t<h1>Users</h1>\n\t\t\t\t\t<PerPage />\n\t\t\t\t</div>\n\t\t\t\t<hr />\n\t\t\t\t<Pagination />\n\t\t\t</header>\n\t\t\t<Users />\n\t\t</section>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport store from './redux/store';\nimport { Provider } from 'react-redux';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}